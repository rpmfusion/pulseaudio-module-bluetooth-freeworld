--- a/src/modules/bluetooth/a2dp/ffmpeg_libs.c
+++ b/src/modules/bluetooth/a2dp/ffmpeg_libs.c
@@ -35,7 +35,7 @@
 #include "ffmpeg_libs.h"
 
 static const char *AVCODEC_LIB_NAMES[] = {
-        "libavcodec.so.58",
+        "libavcodec.so.59",
         "libavcodec.so"
 };
 
@@ -66,7 +66,7 @@ avcodec_free_context_func_t avcodec_free
 avcodec_open2_func_t avcodec_open2_func;
 
 static const char *AVUTIL_LIB_NAMES[] = {
-        "libavutil.so.56",
+        "libavutil.so.57",
         "libavutil.so"
 };
 
--- a/src/modules/bluetooth/a2dp/a2dp_aptx.c	
+++ b/src/modules/bluetooth/a2dp/a2dp_aptx.c	
@@ -23,6 +23,7 @@
 
 #include <libavcodec/avcodec.h>
 #include <libavutil/samplefmt.h>
+#include <libavutil/channel_layout.h>
 
 #include <pulse/xmalloc.h>
